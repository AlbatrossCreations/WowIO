(this["webpackJsonpsecret-msg-app"]=this["webpackJsonpsecret-msg-app"]||[]).push([[0],{46:function(e,t,a){},55:function(e,t,a){},64:function(e,t,a){},90:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),c=a(26),i=a.n(c),o=(a(64),a(27)),r=(a(46),a(29)),l=a(12),d=a(19),j=a(20),m=a(25),b=a(23),u=a(22),h=a(44),O=a(56),g=a.n(O),v=a.p+"static/media/profile-pic.369662be.jpeg",f=a(3),p=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).settings={width:300,height:300,image:v,finishPercent:50,onComplete:function(){console.log("The card is now clear!")}},n}return Object(j.a)(a,[{key:"render",value:function(){return Object(f.jsx)(g.a,Object(h.a)(Object(h.a)({},this.settings),{},{children:this.props.message}))}}]),a}(n.Component);var x=function(){return Object(f.jsx)("div",{children:"Already Seen"})},y=a(36);y.a.initializeApp({apiKey:"AIzaSyCvPtZ0Q-gPzpDcftsyq0ej2ZON1hQItuc",authDomain:"secretmsgapp1.firebaseapp.com",projectId:"secretmsgapp1",storageBucket:"secretmsgapp1.appspot.com",messagingSenderId:"491220415619",appId:"1:491220415619:web:fc8c607e7ef38ff6f7d7b6",measurementId:"G-8X2KLGZXF7"}),y.a.analytics();var k=y.a,w=(a(90),a(35));var S=Object(l.f)((function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),s=(a[0],a[1],Object(n.useState)("Url will appear here")),c=Object(o.a)(s,2);c[0],c[1];var i=function(){return console.log("Sorry boss the message is no longer valid"),null},r=function(){Date.now()>e.time&&console.log("Sorry boss time up")};return Object(f.jsxs)("div",{children:[console.log("GAME STARTED",e.gameStarted),e.time?e.gameStarted?Object(f.jsx)(w.a,{date:Date.now()+9e4,renderer:function(e){var t=e.hours,a=e.minutes,n=e.seconds;return e.completed?Object(f.jsx)(r,{}):Object(f.jsxs)("h2",{children:["Game ends in ",t,":",a,":",n]})}}):Object(f.jsx)(w.a,{date:Number(e.time),renderer:function(e){var t=e.hours,a=e.minutes,n=e.seconds;return e.completed?Object(f.jsx)(i,{}):Object(f.jsxs)("h2",{children:["The message will turn invalid in ",t,":",a,":",n]})}}):e.showFinalTimer?Object(f.jsx)(w.a,{date:Date.now()+1e4,renderer:function(t){var a=t.hours,n=t.minutes,s=t.seconds;return t.completed?(e.makeInvalid(),null):Object(f.jsxs)("h2",{children:["Message vanishes in ",a,":",n,":",s]})}}):null]})})),I=(a(55),a(93),a(59));var E=function(e){var t=Object(n.useState)(0),a=Object(o.a)(t,2);function s(e,t,a){var n="string"===typeof t?"key"+t:"keydown",s=document.createEvent("HTMLEvents");s.initEvent(n,!0,!1),s.keyCode=e,document.dispatchEvent(s)}return a[0],a[1],Object(f.jsxs)("div",{className:"container motherContainer",children:[Object(f.jsx)("div",{children:Object(f.jsx)(I.a,{colors:{field:"#bdc3c7",food:"#9b59b6",snake:"#3498db"},countOfHorizontalFields:20,countOfVerticalFields:20,fieldSize:20,loopTime:200,pauseAllowed:!0,restartAllowed:!0,onLoopFinish:function(t){t.game.points>0&&(console.log("You won "),e.onWin())}})}),Object(f.jsx)("div",{className:"card",children:Object(f.jsxs)("div",{className:"container ",children:[Object(f.jsx)("button",{onClick:function(){s(38)},id:"upBtn",val:"^",children:"Up"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:function(){s(37),console.log("LEFT")},id:"leftBtn",val:"<=",children:"Left"}),Object(f.jsx)("button",{onClick:function(){s(39),console.log("RIGHT")},id:"rightBtn",val:"=>",children:"Right"})]}),Object(f.jsx)("button",{onClick:function(){s(40),console.log("DOWN")},id:"downBtn",val:"!",children:"Down"})]})})]})},N=a.p+"static/media/unlock.ed23db57.jpg",T=a(102),C=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(j.a)(a,[{key:"render",value:function(){return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("img",{src:N,style:{width:"100px"},id:"cardImg",alt:"Avatar"}),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h4",{children:Object(f.jsx)("b",{children:"It's locked"})}),Object(f.jsx)("p",{children:"Either unlock on go away"}),Object(f.jsx)(T.a,{variant:"secondary",onClick:this.props.start,children:"Unlock"})]})]})})}}]),a}(n.Component),D=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).markRead=function(){var e=k.database().ref("Messages/"+n.state.id);n.setState({seen:!0}),e.update({seen:!0})},n.state={seen:!1,fromm:"",created:"",mail:"",msg:"",id:n.props.match.params.id,gameStarted:!1,valid:!0,showMsg:!1,showFinalTimer:!1},n.checkIfRead=n.checkIfRead.bind(Object(m.a)(n)),n.markRead=n.markRead.bind(Object(m.a)(n)),n.startGame=n.startGame.bind(Object(m.a)(n)),n.getData=n.getData.bind(Object(m.a)(n)),n.makeMsgInvalid=n.makeMsgInvalid.bind(Object(m.a)(n)),n.onWinGame=n.onWinGame.bind(Object(m.a)(n)),n}return Object(j.a)(a,[{key:"getData",value:function(){var e=this;k.database().ref("Messages/"+this.state.id).on("value",(function(t){var a=t.val().seen,n=t.val().from,s=t.val().mail,c=t.val().created,i=t.val().msg;console.log("seen",a),console.log("fromm",n),console.log("mail",s),console.log("created",c),console.log("msg",i),console.log("mail",s);try{e.setState({seen:a,fromm:n,mail:s,created:c,msg:i})}catch(o){console.log("ERROR",o)}console.log("SNAPSHOT",t.val()),Date.now()>Number(e.state.created)&&(console.log("DELETED DUE TO TIME UP"),console.log("now "+Date.now()+"  craeted "+Number(e.state.created)),e.setState({valid:!1}))}))}},{key:"componentDidMount",value:function(){this.getData()}},{key:"checkIfRead",value:function(){var e=this;k.database().ref("Messages/"+this.state.id+"/seen").on("value",(function(t){var a=t.val();console.log("SNAPSHOT",t.val()),e.setState({seen:a})}))}},{key:"startGame",value:function(){window.confirm("Once game starts you have 90 seconds to win,\nif you lose the message will be deleted forever, do you wish to play now?")?(console.log("ACCEPT TO PLAY"),this.setState({gameStarted:!0})):console.log("REJECTED TO PLAY")}},{key:"onWinGame",value:function(){console.log("YOU CAN VIEW THE SURPRISE NOW"),this.setState({showMsg:!0,gameStarted:!1,created:!1,showFinalTimer:!0})}},{key:"makeMsgInvalid",value:function(){this.setState({valid:!1})}},{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(S,{id:this.state.id,makeInvalid:this.makeMsgInvalid,time:this.state.created,showFinalTimer:this.state.showFinalTimer,gameStarted:this.state.gameStarted}),Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"box",children:this.state.gameStarted?Object(f.jsx)(E,{onWin:this.onWinGame}):this.state.valid?this.state.showMsg?Object(f.jsx)(p,{message:this.state.msg}):Object(f.jsx)(C,{start:this.startGame}):Object(f.jsx)(x,{})})})]})}}]),a}(n.Component),M=(a(95),n.Component,function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(f.jsx)("div",{children:Object(f.jsx)("h2",{children:"LANDING PAGE"})})}}]),a}(n.Component)),A=a(101);var F=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)("Url will appear here"),d=Object(o.a)(i,2),j=d[0],m=d[1],b=function(){return c(!1)};return Object(f.jsxs)(r.a,{children:[Object(f.jsxs)("nav",{class:"navbar navbar-light bg-light justify-content-between",children:[Object(f.jsx)("a",{class:"navbar-brand",children:"Wowio"}),Object(f.jsx)(T.a,{variant:"primary",onClick:function(){return c(!0)},class:"btn btn-outline-success my-2 my-sm-0",children:"Create"})]}),Object(f.jsx)("div",{children:Object(f.jsxs)(A.a,{backdrop:"static",show:s,onHide:b,children:[Object(f.jsxs)(A.a.Header,{children:[Object(f.jsx)(A.a.Title,{children:"Create one"}),"x",Object(f.jsx)(T.a,{variant:"secondary",onClick:b,children:"Close"})]}),Object(f.jsx)(A.a.Body,{children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"card col-xs-8",children:Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("Document",document);var t=document.getElementById("msgId").value.trim(),a=document.getElementById("fromId").value.trim(),n=document.getElementById("emailId").value.trim(),s=k.database().ref("Messages/"),c={msg:t,created:Date.now()+18e5,from:a,mail:n,seen:!1},i=s.push().key,o=k.database().ref("Messages/"+i),r=k.database().ref("Interested");o.set(c),m(i),console.log("NEW KEY",i),r.push({mail:n})},children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{for:"exapmleMsg",children:"Message"}),Object(f.jsx)("textarea",{id:"msgId",type:"text",className:"form-control",placeholder:"Secret message",required:!0})]}),Object(f.jsxs)("div",{class:"form-group",children:[Object(f.jsx)("label",{for:"exapmleMsg",children:"From"}),Object(f.jsx)("input",{id:"fromId",type:"text",className:"form-control",placeholder:"Name",required:!0})]}),Object(f.jsxs)("div",{class:"form-group",children:[Object(f.jsx)("label",{for:"exampleInputEmail1",children:"Email address"}),Object(f.jsx)("input",{id:"emailId",type:"email",className:"form-control","aria-describedby":"emailHelp",placeholder:"Enter email",required:!0}),Object(f.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(f.jsx)("button",{id:"subBtn",type:"submit",class:"btn btn-primary",children:"Submit"})]})}),Object(f.jsxs)("h6",{children:["https://albatrosscreations.github.io/Wowio/home/",j]})]})}),Object(f.jsx)(A.a.Footer,{children:Object(f.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"Thanks for using :)."})})]})}),Object(f.jsxs)(l.c,{children:[Object(f.jsx)(l.a,{path:"/home/:id",exact:!0,component:D}),Object(f.jsx)(l.a,{path:"/",component:function(){return Object(f.jsx)(M,{})}})]})]})},G=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,103)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};a(97);i.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(F,{})}),document.getElementById("root")),G()}},[[98,1,2]]]);
//# sourceMappingURL=main.16d492a5.chunk.js.map